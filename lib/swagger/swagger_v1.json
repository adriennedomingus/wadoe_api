{
    "swagger": "2.0",
    "info": {
        "title": "Washington State Department of Education API",
        "description": "Endpoints for student demographics by district in Washington State",
        "version": "1.0.0"
    },
    "host": "wadoe-api.herokuapp.com",
    "schemes": [
        "https"
    ],
    "basePath": "/api/v1",
    "produces": [
        "application/json"
    ],
    "paths": {
        "/districts": {
            "get": {
                "summary": "List of all districts",
                "description": "This endpoint returns all school districts and includes its name, slug(used for querying about an individual district) and number, as well as the name and",
                "parameters": [
                    {
                        "name": "api_key",
                        "in": "query",
                        "description": "your individual api key",
                        "required": true,
                        "type": "string",
                        "format": "uuid"
                    }
                ],
                "tags": [
                    "Districts"
                ],
                "responses": {
                    "200": {
                        "description": "successful response",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/District"
                            }
                        }
                    },
                    "401": {
                        "description": "unauthorized",
                        "schema": {
                            "type": "object",
                            "description": "contains error message and status code",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "unauthorized error"
                                },
                                "status": {
                                    "type": "string",
                                    "description": "401 status code"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/demographics/district-in-year": {
            "get": {
                "summary": "Student demographics for specified district in given year",
                "description": "This endpoint returns the gender, race & ethnicity, students who receive exceptional student services, and other demographic information on all students in the specified school district for the specified school year. School district name should be passed as the parameterized version (slug). The school year should be passed as the full year for the starting year, and the last two digits of the ending year. This can only span one school year. For example - '2016-17'",
                "parameters": [
                    {
                        "name": "slug",
                        "in": "query",
                        "description": "slug of school district name",
                        "required": true,
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "name": "year",
                        "in": "query",
                        "description": "school year for which data is being requested",
                        "required": true,
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "name": "api_key",
                        "in": "query",
                        "description": "your individual api key",
                        "required": true,
                        "type": "string",
                        "format": "uuid"
                    }
                ],
                "tags": [
                    "Districts",
                    "Demographics"
                ],
                "responses": {
                    "200": {
                        "description": "successful response",
                        "schema": {
                            "$ref": "#/definitions/DistrictDemographics"
                        }
                    },
                    "401": {
                        "description": "unauthorized",
                        "schema": {
                            "type": "object",
                            "description": "contains error message and status code",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "unauthorized error"
                                },
                                "status": {
                                    "type": "string",
                                    "description": "401 status code"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Data does not exist for the specified combination of school district and school year. Includes specifics for which parameter could not be found",
                        "schema": {
                            "type": "object",
                            "description": "contains error message and status code",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "specific error"
                                },
                                "status": {
                                    "type": "string",
                                    "description": "404 status code"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "District": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the district"
                },
                "slug": {
                    "type": "string",
                    "description": "Parameterized name of the school district. To be used for any calls requesting data for a specific district"
                },
                "educational_service_district": {
                    "type": "object",
                    "description": "Details about the ESD to which the district belongs",
                    "properties": {
                        "name": {
                            "type": "string",
                            "description": "Name of the ESD"
                        },
                        "slug": {
                            "type": "string",
                            "description": "Parameterized name of the ESD. To be used for any calls requesting data for a specific Educational Service District"
                        }
                    }
                },
                "county": {
                    "type": "object",
                    "description": "Details about the county in which the district is located",
                    "properties": {
                        "name": {
                            "type": "string",
                            "description": "Name of the county"
                        },
                        "slug": {
                            "type": "string",
                            "description": "Parameterized name of the county. To be used for any calls requesting data for a specific County"
                        }
                    }
                }
            }
        },
        "DistrictDemographics": {
            "type": "object",
            "properties": {
                "demographics": {
                    "type": "object",
                    "description": "All student demographics for given district and school year",
                    "properties": {
                        "gender": {
                            "type": "object",
                            "description": "gender demographics",
                            "properties": {
                                "male": {
                                    "type": "object",
                                    "description": "number and percent of male students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of male students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are male"
                                        }
                                    }
                                }
                            }
                        },
                        "race ethnicity": {
                            "type": "object",
                            "description": "All student race ethnicity demographics",
                            "properties": {
                                "american indian or alaskan native": {
                                    "type": "object",
                                    "description": "number and percent of American Indian or Alaskan Native students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of American Indian or Alaskan Native students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are American Indian or Alaskan Native"
                                        }
                                    }
                                },
                                "asian": {
                                    "type": "object",
                                    "description": "number and percent of Asian students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of Asian students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are Asian"
                                        }
                                    }
                                },
                                "asian pacific islander": {
                                    "type": "object",
                                    "description": "number and percent of Asian Pacific Islander students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of Asian Pacific Islander students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are Asian Pacific Islander"
                                        }
                                    }
                                },
                                "black or african american": {
                                    "type": "object",
                                    "description": "number and percent of Black or African American students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of Black or African American students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are Black or African American"
                                        }
                                    }
                                },
                                "hispanic or latino": {
                                    "type": "object",
                                    "description": "number and percent of Hispanic or Latino students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of Hispanic or Latino students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are Hispanic or Latino"
                                        }
                                    }
                                },
                                "pacific islander": {
                                    "type": "object",
                                    "description": "number and percent of Pacific Islander students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of Pacific Islander students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are Pacific Islander"
                                        }
                                    }
                                },
                                "two or more races": {
                                    "type": "object",
                                    "description": "number and percent of students who are two or more races",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students in district who are two or more races"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are two or more races"
                                        }
                                    }
                                },
                                "white": {
                                    "type": "object",
                                    "description": "number and percent of White students",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of White students in district"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students in district who are White"
                                        }
                                    }
                                }
                            }
                        },
                        "other": {
                            "type": "object",
                            "description": "other demographic indicators",
                            "properties": {
                                "foster care": {
                                    "type": "object",
                                    "description": "number and percent of students who are in foster care",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students who are in foster care"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students who are in foster care"
                                        }
                                    }
                                },
                                "free or reduced price lunch": {
                                    "type": "object",
                                    "description": "number and percent of students who receive free or reduced price lunch",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students who receive free or reduced price lunch"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students who receive free or reduced price lunch"
                                        }
                                    }
                                },
                                "transitional bilingual": {
                                    "type": "object",
                                    "description": "number and percent of students who are transitional bilingual",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students who are transitional bilingual"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students who are transitional bilingual"
                                        }
                                    }
                                },
                                "title i migrant": {
                                    "type": "object",
                                    "description": "number and percent of students who are Title I Migrant",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students who are Title I Migrant"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students who are Title I Migrant"
                                        }
                                    }
                                }
                            }
                        },
                        "exceptional student services": {
                            "type": "object",
                            "description": "other demographic indicators",
                            "properties": {
                                "section 504": {
                                    "type": "object",
                                    "description": "number and percent of students who have section 504 plans",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students who have section 504 plans"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students who have section 504 plans"
                                        }
                                    }
                                },
                                "special education": {
                                    "type": "object",
                                    "description": "number and percent of students who receive special education services",
                                    "properties": {
                                        "number": {
                                            "type": "integer",
                                            "description": "number of students who receive special education services"
                                        },
                                        "percent": {
                                            "type": "integer",
                                            "description": "percent of students who receive special education services"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "district": {
                    "type": "object",
                    "description": "basic information about the requested district",
                    "properties": {
                        "name": {
                            "type": "string",
                            "description": "Name of the school district"
                        },
                        "number": {
                            "type": "string",
                            "description": "School district number"
                        },
                        "slug": {
                            "type": "string",
                            "description": "parameterized name of the school district, to be used in queries for this district"
                        }
                    }
                },
                "school_year": {
                    "type": "object",
                    "description": "school year requested",
                    "properties": {
                        "years": {
                            "type": "string",
                            "description": "School year requested"
                        }
                    }
                },
                "student_enrollment": {
                    "type": "object",
                    "description": "general student enrollment numbers for the district",
                    "properties": {
                        "total": {
                            "type": "integer",
                            "description": "total number of students enrolled in district"
                        },
                        "students_per_classroom_teacher": {
                            "type": "integer",
                            "description": "Average number of students per classroom teacher"
                        }
                    }
                }
            }
        }
    }
}
